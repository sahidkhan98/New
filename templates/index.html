<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Tool</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body { background-color: #121212; color: #fff; font-family: 'Poppins', sans-serif; }
        .container { margin-top: 50px; max-width: 600px; }
        .btn-primary { background: #007bff; border: none; }
        .btn-primary:hover { background: #0056b3; }
        .result-box { background: #1e1e1e; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .copy-btn { cursor: pointer; color: #00ff00; }
    </style>
</head>
<body>
    <div class="container text-center">
        <h2>Facebook Tools</h2>

        <!-- Token Checker -->
        <h4 class="mt-4">Check Facebook Token</h4>
        <textarea id="token" class="form-control" placeholder="Enter Token(s), one per line"></textarea>
        <button class="btn btn-primary mt-2" onclick="checkToken()">Check</button>
        <div id="tokenResult"></div>

        <!-- Cookies Checker -->
        <h4 class="mt-4">Check Facebook Cookie</h4>
        <textarea id="cookie" class="form-control" placeholder="Enter Cookie(s), one per line"></textarea>
        <button class="btn btn-primary mt-2" onclick="checkCookie()">Check</button>
        <div id="cookieResult"></div>

        <!-- GC UID Finder -->
        <h4 class="mt-4">Find Group Chat UIDs</h4>
        <input type="text" id="gc_token" class="form-control" placeholder="Enter Facebook Access Token">
        <button class="btn btn-primary mt-2" onclick="findGC()">Find Groups</button>
        <div id="gcResult"></div>
    </div>

    <script>
        function checkToken() {
            let token = $("#token").val();
            $.post("/check_token", {token: token}, function(response) {
                let resultHTML = "<div class='result-box'>";
                response.data.forEach((res, index) => {
                    resultHTML += res.status === "valid" 
                        ? `‚úÖ <strong>${res.name}</strong> | <a href="${res.id}" target="_blank">Profile</a> | DOB: ${res.dob} | Email: ${res.email} <br>`
                        : `‚ùå Invalid Token at position ${index + 1} <br>`;
                });
                resultHTML += "</div>";
                $("#tokenResult").html(resultHTML);
            });
        }

        function checkCookie() {
            let cookie = $("#cookie").val();
            $.post("/check_cookie", {cookie: cookie}, function(response) {
                let resultHTML = "<div class='result-box'>";
                response.data.forEach((res, index) => {
                    resultHTML += res.status === "valid" 
                        ? `‚úÖ Valid Cookie at position ${index + 1} <br>`
                        : `‚ùå Invalid Cookie at position ${index + 1} <br>`;
                });
                resultHTML += "</div>";
                $("#cookieResult").html(resultHTML);
            });
        }

        function findGC() {
            let token = $("#gc_token").val();
            $.post("/find_gc", {token: token}, function(response) {
                let resultHTML = response.status === "success" ? response.data.map(gc => `üìå <strong>${gc.name}</strong> | UID: ${gc.uid} <br>`).join("") : "‚ùå No groups found!";
                $("#gcResult").html(`<div class='result-box'>${resultHTML}</div>`);
            });
        }
    </script>
</body>
  </html>
